{
  "queryType": "groupBy",
  "dataSource": "poc",
  "granularity": "minute",
  "dimensions": ["campaignId"],
  "filter": {
    "type": "and",
    "fields": [
      { "type": "selector", "dimension": "campaignId", "value": "1" }
    ]
  },
  "aggregations": [
    { "type": "longSum", "name": "totalCount_sum", "fieldName": "totalCount" },
    { "type": "doubleSum", "name": "totalPrice_sum", "fieldName": "price" }
  ],
  "postAggregations": [
    { "type": "arithmetic",
      "name": "price_avg",
      "fn": "/",
      "fields": [
        { "type": "fieldAccess", "name": "totalPrice_sum", "fieldName": "totalCount_sum" },
        { "type": "fieldAccess", "name": "totalCount_sum", "fieldName": "totalPrice_sum" }
      ]
    }
  ],
  "intervals": [ "2012-01-01T00:00:00.000/2020-01-01T00:00:00.000" ],
  "having": { "type": "greaterThan", "aggregation": "totalCount_sum", "value": 0  }
}
